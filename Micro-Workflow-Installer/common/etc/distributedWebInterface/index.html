<html>
<head><title>Kepler Remote Computing Login</title></head>
<script language="JavaScript" type="text/javascript">

function submitform(formObj) {

  if (trim(formObj.elements["loginAction"].value)!="Login") return true;
  //trim username & passwd:
  var username = trim(formObj.elements["uid"].value);
  var organization  = trim(formObj.elements["organization"].value);
  var password      = trim(formObj.elements["password"].value);

  if (username=="") {
    alert("You must type a username. \n"+popupMsg);
        formObj.elements["uid"].focus();
    return false;
  }

  if (organization=="") {
    alert("You must select an organization. \n"+popupMsg);
        formObj.elements["organization"].focus();
    return false;
  }

  if (password=="") {
    alert("You must type a password. \n"+popupMsg);
        formObj.elements["password"].focus();
    return false;
  }

  formObj.username.value="uid="+formObj.elements["uid"].value+",o="+formObj.elements["organization"].value+",dc=ecoinformatics,dc=org";
  return true;
}

function trim(stringToTrim) {
  return stringToTrim.replace(/^\s*/, '').replace(/\s*$/,'');
}

</script>
</head>

<body>
  <h2>Welcome to the Kepler Remote Computing web interface.  Please login below.</h2>
  <form name="loginform" method="post" action="/KeplerRemoteJobMonitorServlet/jobMonitor"
  target="_top" onsubmit="return submitform(this);" id="loginform">
    <input type="hidden" name="action" value="login"> <input type=
    "hidden" name="username" value=""> <input type="hidden" name=
    "qformat" value="xml"> <input type="hidden" name=
    "enableediting" value="false">


    <table>
      <tr valign="middle">
        <td align="left" valign="middle" class="text_plain">
        username:</td>

        <td width="173" align="left" class="text_plain" style=
        "padding-top: 2px; padding-bottom: 2px;"><input name="uid"
        type="text" style="width: 140px;" value=""></td>
      </tr>

      <tr valign="middle">

        <td height="28" align="left" valign="middle" class=
        "text_plain">organization:</td>

        <td align="left" class="text_plain" style=
        "padding-top: 2px; padding-bottom: 2px;"><select name=
        "organization" style="width:140px;">
          <option value=""    selected>&#8212; choose one &#8212;</option>
          <option value="NCEAS"       >NCEAS</option>
          <option value="LTER"        >LTER</option>
          <option value="UCNRS"       >UCNRS</option>

          <option value="PISCO"       >PISCO</option>
          <option value="OBFS"        >OBFS</option>
          <option value="OSUBS"        >OSUBS</option>
          <option value="SDSC"        >SDSC</option>
          <option value="KU"          >KU</option>
          <option value="unaffiliated">unaffiliated</option>

        </select></td>
      </tr>

      <tr valign="middle">
        <td width="85" align="left" valign="middle" class=
        "text_plain">password:</td>

        <td colspan="2" align="left" class="text_plain" style=
        "padding-top: 2px; padding-bottom: 2px;">
          <table width="100%" border="0" cellpadding="0"
          cellspacing="0">
            <tr>

              <td width="150" align="left"><input name="password"
              type="password" maxlength="50" style="width:140px;"
              value=""></td>

              <td align="center" class="buttonBG_login"><br/>
              <input type="submit" name="loginAction" value="Login"
              class="button_login"></td>

              <td align="left">&nbsp;</td>
            </tr>
          </table>
        </td>
      </tr>

    </table>
  </form>
  <p>You can also login publicly.</p>
  <form name="loginpubform" method="post" action="/KeplerRemoteJobMonitorServlet/jobMonitor">
    <input type="hidden" name="action" value="login"/>
    <input type="hidden" name="username" value="uid=kepler,o=unaffiliated,dc=ecoinformatics,dc=org"/>
    <input type="hidden" name="password" value="kepler"/>
    <input type="submit" name="loginPublic" value="Login Publicly"/>
  </form>
  <p><a href="http://knb.ecoinformatics.org/cgi-bin/ldapweb.cgi?cfg=knb">Register for a username.</a></p>
</body>
</html>
